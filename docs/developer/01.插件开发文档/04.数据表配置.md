---
title: 数据表配置
date: 2022-07-29 18:03:41
permalink: /developer/doc/step-3
---

## 准备工作

若您的插件有数据表需求，您可以在插件目录创建一个 `database` 目录，并创建一个 `database.sql` 文件作为初始化数据表文件。

::: warning 注意
初始化数据表文件必须永远为最新版本！
:::

## 内容格式

使用 `sql` 语法，每条 `sql` 语句用 `;` 结束。

## 更新数据表

为了保证用户数据表永远是最新版本，在数据表每次有变动时，都应创建一个以 `{日期}-{时间}.sql` 为名的 `sql` 文件，在其中写下对应的修改语句。并修改 `database.sql` 文件，让其保持最新。

更新文件命名时间必须等于或超过推送代码时间，若您仅是自己使用，时间应不低于上次更新时间。

### 时间格式
年月日-时分.sql

> <Badge type="error" text="年" vertical="middle"/>: 4 位
> <br>
> <Badge type="error" text="月" vertical="middle"/>: 2 位
> <br>
> <Badge type="error" text="日" vertical="middle"/>: 2 位
> <br>
> <Badge type="error" text="时" vertical="middle"/>: 2 位
> <br>
> <Badge type="error" text="分" vertical="middle"/>: 2 位

## 完整示例

- database.sql
``` sql
create table if not exists demo (
    name char(4) not null comment '属性名',
    datetime datetime not null comment '修改时间',
    value varchar(256) not null comment '属性值'
);
```

- 20220729-1900.sql
``` sql
alter table demo add datetime datetime not null comment '修改时间' after name;
```