---
title: 基础插件命令解析
date: 2022-02-22 08:58:42
permalink: /doc/command-parsing/
---

## 🎗️说明

::: tip
Madoka 插件命令支持多关键词触发, 因此当你看到命令帮助中有用 `/` 分隔的参数, 即代表 `/` 左右的参数都可以触发该功能.

使用 `[]` 包裹住的参数属于可变参数.

例: `.测试/.test 加入/join [xxxx]`, 该命令使用 [`.测试` `.test`, `加入` `join`, 123456] 都可以触发该功能.
:::

::: warning
本介绍会将插件命令前缀写至对应插件开头, 子命令介绍中不包含前缀, 使用时请自行添加前缀.
:::

## 🎯系统: sys

该插件存放控制机器人大部分行为命令

- 前缀: `.系统/.sys`

### ❄️禁言退群

- 子命令: `禁言退群 [0 / 1]`
- 功能: 在单群组内设置机器人被禁言是否退出该群
- 说明: 默认开启
- 权限: `MASTER`

### ❄️上线通知

- 子命令: `上线通知 [0 / 1]`
- 功能: 在单群组内设置机器人上线是否通知该群
- 说明: 默认关闭
- 权限: `MASTER`

## 🎯电源: p

该插件控制机器人开关等操作

- 前缀: `.电源/.power/.p`

### ❄️关闭机器人

- 子命令: `k`
- 功能: 关闭机器人
- 权限: `MASTER`

### ❄️重启机器人

- 命令：`r`
- 功能: 重启机器人
- 权限: `MASTER`

### ❄️升级机器人

- 子命令: `u [timeout]`
- 功能: 升级机器人
- 其它参数: 
- - timeout: 默认值(10) `可选`
- 权限: `MASTER`

## 🎯账号管理: am

该插件管理机器人的好友及群组

- 前缀: `.账号管理/.account/.am`

### ❄️列出群组

- 子命令: `列出群组/gl`
- 功能: 列出机器人的群组列表
- 权限: `MASTER`

### ❄️列出好友

- 子命令: `列出好友/ul`
- 功能: 列出机器人的好友列表
- 权限: `MASTER`

### ❄️退出群组

- 子命令: `退出群组/dg [num]`
- 功能: 退出指定群组
- 其它参数:
- - num: 群号
- 权限: `MASTER`

### ❄️删除好友

- 子命令: `删除好友/du [num]`
- 功能: 删除指定好友
- 其它参数:
- - num: QQ号
- 权限: `MASTER`

## 🎯插件管理: plugin

本插件为 `Madoka` 插件管理工具

- 前缀: `.插件/.plugin`

### ❄️开启插件

- 子命令: `开启/open [plugin]`
- 功能: 在单群组内开启一个插件
- 其它参数:
- - plugin: 插件英文名
- - qq_num: QQ号, 私聊使用时有效
- 说明:
- - 在群组内使用时, 该功能仅对当前群组生效
- - 在私聊使用时, 该功能仅对指定用户生效, 需填写 `qq_num` 参数
- 权限: `GROUP_ADMIN`

### ❄️关闭插件

- 子命令: `关闭/close [plugin]`
- 功能: 在单群组内关闭一个插件
- 其它参数:
- - plugin: 插件英文名
- - qq_num: QQ号, 私聊使用时有效
- 说明:
- - 在群组内使用时, 该功能仅对当前群组生效
- - 在私聊使用时, 该功能仅对指定用户生效, 需填写 `qq_num` 参数
- 权限: `GROUP_ADMIN` 

### ❄️安装插件

- 子命令: `安装/install [plugin]`
- 功能: 安装一个插件, 若安装成功会自动加载该插件
- 其它参数:
- - plugin: 插件英文名
- 权限: `MASTER`

### ❄️删除插件

- 子命令: `删除/remove [plugin]`
- 功能: 删除一个插件
- 其它参数:
- - plugin: 插件英文名
- 权限: `MASTER`

### ❄️插件大全

- 子命令: `插件大全/listall`
- 功能: 列出插件库所有插件
- 说明: 若出现未知错误, 请多尝试两次
- 权限: `MASTER`

### ❄️本地插件

- 子命令: `本地插件/list`
- 功能: 列出本地存在的插件
- 权限: `MASTER`

### ❄️加载插件

- 子命令: `加载/load [plugin]`
- 功能: 加载一个本地插件
- 其它参数:
- - plugin: 插件英文名
- 权限: `MASTER`

### ❄️卸载插件

- 子命令: `卸载/unload [plugin]`
- 功能: 卸载一个本地插件
- 其它参数:
- - plugin: 插件英文名
- 说明: 卸载插件是将其取消加载, 不是从本地删除哦
- 权限: `MASTER`

### ❄️重载插件

- 子命令: `重载/reload [plugin]`
- 功能: 重载一个/全部插件
- 其它参数:
- - plugin: 插件英文名
- 说明: plugin参数不存在时重载全部插件
- 权限: `MASTER`

## 🎯群管: csm

本插件用于管理群

- 前缀: `.群管/.csm`
- 权限: `GROUP_ADMIN`

### ❄️群管开关

- 子命令: `状态/status [0 / 1]`
- 功能: 开关群管
- 说明: 该功能开关的是被动触发群管功能, 默认关闭

### ❄️踢人

- 子命令: `踢/kick [@qq]`
- 功能: 踢出一位群成员
- 其它参数:
- - @qq: @群成员

### ❄️撤回消息

- 命令：`撤回/revoke [id]`
- 功能: 撤回一条消息
- 其它参数:
- - id: 基于最后一条消息从1开始数

### ❄️禁言

- 子命令: `禁言/mute [time(m)] [@qq]`
- 功能: 禁言一位群成员
- 其它参数:
- - time(m): 禁言时长(单位: 分钟)
- - @qq: @群成员

### ❄️全员禁言

- 子命令: `全员禁言/allmute`
- 功能: 禁言全体成员

### ❄️解除禁言

- 子命令: `解禁/unmute [@qq]`
- 功能: 解除一位群成员的禁言
- 其它参数:
- - @qq: @群成员

### ❄️全员解禁

- 子命令: `全员解禁/allunmute`
- 功能: 解除禁言全体成员

### ❄️名片修改通知

- 子命令: `名片通知/cardsend [0 / 1]`
- 功能: 群成员名片修改通知
- 说明: 默认关闭

### ❄️闪照识别

- 子命令: `闪照识别/flashpng [0 / 1]`
- 功能: 识别群内闪照
- 说明: 默认关闭

### ❄️成员被踢通知

- 子命令: `被踢通知/kicksend [0 / 1]`
- 功能: 群成员被踢通知
- 说明: 默认关闭

### ❄️成员退群通知

- 子命令: `退群通知/quitsend [0 / 1]`
- 功能: 群成员退群通知
- 说明: 默认关闭

### ❄️刷屏检测

- 子命令: `刷屏检测 [时长] [禁言时间] [回复消息]`
- 功能: 检测单个成员[时长]内的3条消息发送间隔, 触发后对应成员将被禁言
- 其它参数:
- - 时长: 默认值(5) `秒`
- - 禁言时间: 默认值(5) `分`
- - 回复消息: 触发后发送的警告消息

### ❄️重复消息检测

- 子命令: `重复消息 [时长] [禁言时间] [回复消息]`
- 功能: 检测单个成员[时长]内的3条消息是否一致, 触发后对应成员将被禁言
- 其它参数:
- - 时长: 默认值(30) `秒`
- - 禁言时间: 默认值(2) `分`
- - 回复消息: 默认值(请勿发送重复消息) `触发后发送的警告消息`

### ❄️超长消息检测

- 子命令: `超长消息 [文本长度] [禁言时间] [回复消息]`
- 功能: 检测单个成员发送的消息文本长度, 触发后对应成员将被禁言
- 其它参数:
- - 文本长度: 默认值(500) `Number`
- - 禁言时间: 默认值(2) `分`
- - 回复消息: 默认值(请勿发送超长消息) `触发后发送的警告消息`

## 🎯授权: perm

该插件用于用户/群权限控制

- 前缀: `.授权/.perm`

### ❄️加入用户白名单

- 子命令: `au [@user]`
- 功能: 激活指定对象, 激活后该对象可私聊使用机器人
- 其它参数:
- - @user: QQ号码, 群聊内使用可直接@该对象
- 权限: `MASTER`

### ❄️移除用户白名单

- 子命令: `du [@user]`
- 功能: 取消激活指定对象, 取消激活后该用户不可私聊使用机器人
- 其它参数:
- - @user: QQ号码, 群聊内使用可直接@该对象
- 权限: `MASTER`

### ❄️加入黑名单

- 子命令: `ab [@user]`
- 功能: 将指定对象加入黑名单, 加入黑名单后该对象无法在任何地方触发机器人命令
- 其它参数:
- - @user: QQ号码, 群聊内使用可直接@该对象
- 权限: `MASTER`

### ❄️移除黑名单

- 子命令: `db [@user]`
- 功能: 将指定对象移出黑名单
- 其它参数:
- - @user: QQ号码, 群聊内使用可直接@该对象
- 权限: `MASTER`

### ❄️加入群组白名单

- 子命令: `ag [group_id]`
- 功能: 将指定群组加入白名单
- 其它参数:
- - group_id: 群号
- 说明: 经过主人审核加入的群组会自动加入白名单
- 权限: `MASTER`

### ❄️移出群组白名单

- 子命令: `dg [group_id]`
- 功能: 将指定群组移出白名单
- 其它参数:
- - group_id: 群号
- 说明: 机器人被踢出群或主动退出群后会自动将群组移出白名单
- 权限: `MASTER`

### ❄️查看对应用户组成员

- 子命令: `[al/bl/gl]`
- 功能: 查看对应组成员名单
- 其他参数:
- - al: 用户白名单
- - bl: 用户黑名单
- - gl: 群组白名单
- 权限: `MASTER`

### ❄️调整用户权限等级

- 子命令: `grant [@user] [1-3]`
- 功能: 调整指定用户权限等级
- 其它参数:
- - @user: @群成员
- - 1: 普通用户
- - 2: 管理员, 与群管理同级别, 能额外触发群管理命令
- - 3: 超级管理员, 能触发除机器人系统相关控制外的所有命令
- 说明: 群管理默认为 `level 2`, 无法降级为 `level 1`
- 权限: `GROUP_ADMIN`