---
title: 启动
date: 2022-02-21 21:07:44
permalink: /doc/start/
---

## 说明

本应用与数据库相关联, 使用前请创建一个数据库如 `qqbot`.

::: warning
你需要拥有 `MySQL` 数据库服务, 否则无法使用本应用.
:::

## 安装依赖

建议使用 `Virtualenv` 或 `Anaconda` 等虚拟环境工具.

``` bash
pip install -r requirements.txt
```

## 运行

``` bash
python main.py
```

## 附: 使用 Docker

我们提供了现成的 Docker 镜像来解决这个问题.

``` bash
docker pull colsrch/madoka:latest
```

::: warning
为了保证 Madoka 的部分功能正常使用, 该镜像仅提供 Madoka 运行所需的基础包
:::

推荐使用 `docker-compose` 部署, 安装方法请自行百度

<code-group>
  <code-block title="docker-compose.yml" active>
  ``` yaml
  version: 3
  services:
    qqbot:
      container_name: qqbot
      image: colsrch/madoka:latest
      command: /bin/bash -c "pip3 install -r requirements.txt -r local_requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple && python3 main.py"
      ports:  # 开放端口, 填写你webserver中配置的端口
        - "8081:8080"
      volumes: # 挂载目录
        - "../madoka:/app"
  ```
  </code-block>
</code-group>
